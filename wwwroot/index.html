<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <base href="/" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Primary meta -->
  <title>BioMaint CMMS – Modern Maintenance Management</title>
  <meta name="description" content="BioMaint CMMS helps hospitals and enterprises manage assets, work orders, PM schedules, inventory, and compliance with ease." />
  <meta name="keywords" content="CMMS, maintenance software, hospital asset management, work orders, preventive maintenance, inventory tracking" />
  <meta name="author" content="BioMaint" />

  <!-- Open Graph -->
  <meta property="og:title" content="BioMaint CMMS – Modern Maintenance Management" />
  <meta property="og:description" content="Manage assets, work orders, PM schedules, and inventory like a modern SaaS." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://biomaint.com/" />
  <meta property="og:image" content="/images/og-banner.png" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="BioMaint CMMS – Modern Maintenance Management" />
  <meta name="twitter:description" content="Manage assets, work orders, PM schedules, and inventory like a modern SaaS." />
  <meta name="twitter:image" content="/images/og-banner.png" />

  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/png" sizes="32x32" href="favicon.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png" />

  <!-- Theme color will be updated immediately below and on runtime changes -->
  <meta id="theme-color" name="theme-color" content="#10a37f" />
  <meta name="color-scheme" content="light dark" />

  <!-- Prevent theme flash: compute effective theme before CSS loads -->
  <script>
    (function () {
      try {
        var saved = localStorage.getItem('biomaint-theme') || 'auto'; // set to 'dark' if you want default-dark always
        var eff = (saved === 'light' || saved === 'dark')
          ? saved
          : (window.matchMedia && matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');

        var doc = document.documentElement;
        doc.setAttribute('data-bs-theme', eff);
        doc.style.colorScheme = eff;

        // keep browser chrome in sync immediately
        var meta = document.querySelector('meta[name="theme-color"]');
        if (meta) {
          meta.setAttribute('content', eff === 'dark' ? '#0b0f13' : '#10a37f');
        }
      } catch {}
    })();
  </script>

  <!-- CSS -->
  <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
  <link rel="stylesheet" href="css/theme.css" />

  <!-- Bootstrap Icons (CDN) -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <!-- Tip: add SRI for production -->
</head>
<body>
  <div id="app"></div>

  <div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">×</a>
  </div>

  <!-- JS (order matters; bundle includes Popper) -->
  <!-- Local first -->
  <script src="js/bootstrap/bootstrap.bundle.min.js" defer></script>
  <!-- Optional: CDN fallback if local file missing -->
  <script>
    window.addEventListener('DOMContentLoaded', function () {
      if (typeof window.bootstrap === 'undefined') {
        var s = document.createElement('script');
        s.src = 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js';
        document.head.appendChild(s);
      }
    });
  </script>

  <!-- Theme runtime -->
  <script src="js/theme.js" defer></script>
  <script>
    // initialize your theme handler once JS is ready
    window.addEventListener('DOMContentLoaded', function () {
      window.BioTheme?.init?.();
    });
  </script>

  <!-- Blazor boot -->
  <script src="_framework/blazor.webassembly.js"></script>
</body>
</html>
